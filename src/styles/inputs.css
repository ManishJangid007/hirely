/* Modern Input Field Styling */
.form-input {
  @apply w-full px-4 py-3 text-gray-900 bg-white border border-gray-300 rounded-lg shadow-sm;
  @apply focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none;
  @apply transition-all duration-200 ease-in-out;
  @apply placeholder-gray-500;
  @apply text-sm leading-6;
  @apply hover:border-gray-400;
}

.form-input:disabled {
  @apply bg-gray-50 text-gray-500 cursor-not-allowed;
  @apply border-gray-200;
}

.form-input.error {
  @apply border-red-300 focus:ring-red-500 focus:border-red-500;
}

.form-input.success {
  @apply border-green-300 focus:ring-green-500 focus:border-green-500;
}

/* Select Input Styling */
.form-select {
  @apply w-full px-4 py-3 text-gray-900 bg-white border border-gray-300 rounded-lg shadow-sm;
  @apply focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none;
  @apply transition-all duration-200 ease-in-out;
  @apply text-sm leading-6;
  @apply hover:border-gray-400;
  @apply appearance-none;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 0.75rem center;
  background-repeat: no-repeat;
  background-size: 1.5em 1.5em;
  padding-right: 2.5rem;
}

.form-select:disabled {
  @apply bg-gray-50 text-gray-500 cursor-not-allowed;
  @apply border-gray-200;
}

/* Textarea Styling */
.form-textarea {
  @apply w-full px-4 py-3 text-gray-900 bg-white border border-gray-300 rounded-lg shadow-sm;
  @apply focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none;
  @apply transition-all duration-200 ease-in-out;
  @apply placeholder-gray-500;
  @apply text-sm leading-6;
  @apply hover:border-gray-400;
  resize: vertical;
  min-height: 100px;
}

/* Number Input Styling */
.form-number {
  @apply w-full px-4 py-3 text-gray-900 bg-white border border-gray-300 rounded-lg shadow-sm;
  @apply focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none;
  @apply transition-all duration-200 ease-in-out;
  @apply text-sm leading-6;
  @apply hover:border-gray-400;
}

/* Label Styling */
.form-label {
  @apply block text-sm font-semibold text-gray-800 mb-2;
  @apply transition-colors duration-200;
}

.form-label.required::after {
  content: " *";
  @apply text-red-500;
}

/* Input Group Styling */
.input-group {
  @apply relative;
}

.input-group .form-input {
  @apply pr-10;
}

.input-group-icon {
  @apply absolute inset-y-0 right-0 flex items-center pr-3;
  @apply pointer-events-none;
  @apply text-gray-400;
}

/* Search Input Styling */
.search-input {
  @apply w-full pl-10 pr-4 py-3 text-gray-900 bg-white border border-gray-300 rounded-lg shadow-sm;
  @apply focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none;
  @apply transition-all duration-200 ease-in-out;
  @apply placeholder-gray-500;
  @apply text-sm leading-6;
  @apply hover:border-gray-400;
}

.search-input-container {
  @apply relative;
}

.search-input-container .search-icon {
  @apply absolute inset-y-0 left-0 flex items-center pl-3;
  @apply pointer-events-none;
  @apply text-gray-400;
}

/* Checkbox Styling */
.form-checkbox {
  @apply h-4 w-4 text-blue-600 border-gray-300 rounded;
  @apply focus:ring-blue-500 focus:ring-2;
  @apply transition-all duration-200 ease-in-out;
}

/* Radio Button Styling */
.form-radio {
  @apply h-4 w-4 text-blue-600 border-gray-300;
  @apply focus:ring-blue-500 focus:ring-2;
  @apply transition-all duration-200 ease-in-out;
}

/* Switch/Toggle Styling */
.form-switch {
  @apply relative inline-flex h-6 w-11 items-center rounded-full;
  @apply transition-colors duration-200 ease-in-out;
  @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2;
}

.form-switch.enabled {
  @apply bg-blue-600;
}

.form-switch.disabled {
  @apply bg-gray-200;
}

.form-switch-thumb {
  @apply inline-block h-4 w-4 transform rounded-full bg-white transition;
  @apply duration-200 ease-in-out;
}

.form-switch.enabled .form-switch-thumb {
  @apply translate-x-6;
}

.form-switch.disabled .form-switch-thumb {
  @apply translate-x-1;
}

/* File Input Styling */
.form-file {
  @apply block w-full text-sm text-gray-500;
  @apply file:mr-4 file:py-2 file:px-4;
  @apply file:rounded-lg file:border-0;
  @apply file:text-sm file:font-medium;
  @apply file:bg-blue-50 file:text-blue-700;
  @apply hover:file:bg-blue-100;
  @apply file:transition-colors duration-200;
}

/* Input with Icon */
.input-with-icon {
  @apply relative;
}

.input-with-icon .form-input {
  @apply pl-10;
}

.input-with-icon .icon {
  @apply absolute inset-y-0 left-0 flex items-center pl-3;
  @apply pointer-events-none;
  @apply text-gray-400;
}

/* Floating Label Input */
.floating-input {
  @apply relative;
}

.floating-input .form-input {
  @apply pt-6 pb-2;
}

.floating-input .floating-label {
  @apply absolute left-4 top-3 text-sm text-gray-500;
  @apply transition-all duration-200 ease-in-out;
  @apply pointer-events-none;
}

.floating-input .form-input:focus+.floating-label,
.floating-input .form-input:not(:placeholder-shown)+.floating-label {
  @apply text-xs text-blue-600;
  @apply transform -translate-y-2;
}

/* Modal and Responsive Fixes */
.modal-content {
  /* Prevent layout thrashing on small screens */
  will-change: auto;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Prevent infinite loops in modal positioning */
@media (max-width: 640px) {
  .modal-content {
    position: relative;
    top: 1rem !important;
    margin: 0 0.5rem;
    width: calc(100% - 1rem) !important;
    max-height: calc(100vh - 2rem);
    overflow-y: auto;
  }
}

/* Mobile Responsive Inputs */
@media (max-width: 640px) {

  .form-input,
  .form-select,
  .form-textarea,
  .form-number,
  .search-input {
    @apply text-base;
    @apply px-3 py-2;
  }

  .form-label {
    @apply text-base font-medium;
  }
}

/* Dark Mode Support */
.dark .form-input,
.dark .form-select,
.dark .form-textarea,
.dark .form-number,
.dark .search-input {
  @apply bg-gray-800 border-gray-600 text-gray-100;
  @apply placeholder-gray-400;
}

.dark .form-input:focus,
.dark .form-select:focus,
.dark .form-textarea:focus,
.dark .form-number:focus,
.dark .search-input:focus {
  @apply border-blue-400;
}

.dark .form-label {
  @apply text-gray-200;
}

.dark .form-label.required::after {
  @apply text-red-400;
}

/* Dark mode select arrow */
.dark .form-select {
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23d1d5db' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
}